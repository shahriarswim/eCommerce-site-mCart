<%- include("partials/header.ejs") %>

<Section id="productPage">
  <div class="container-fluid about-top">
    <h1><%= name %></h1>
  </div>
  <div class="container-fluid container-admin">
    <!-- Upper Part -->
    <div class="row">
      <div class="col-md-6">
        <img src="<%= imageUrl %> " alt="product image" width="90%" />
      </div>
      <div class="col-md-6">
        <div>
          <a
            href="#lowerTab"
            style="color: teal;"
          >
            <%= rating %>/5 (<%= numOfReviewer %> Reviewers )
          </a>
          <h5 class="font-weight-bold">Name:</h5>
          <p>
            <%= name %>
          </p>
        </div>
        <div>
          <h5 class="font-weight-bold">Description:</h5>
          <p><%= description %></p>
        </div>
        <div>
          <h5 class="font-weight-bold">Price:</h5>
          <p><%= price %> TK</p>
        </div>
        <div>
          <form action="">
            <div class="form-group">
              <label for="size"
                ><h5 class="font-weight-bold">
                  Size:
                </h5></label
              >
              <select name="size" id="" aria-describedby="size">
                <option value="M">M</option>
                <option value="L">L</option>
                <option value="X">X</option>
                <option value="XL">XL</option>
                <option value="28">28</option>
                <option value="30">30</option>
                <option value="32">32</option>
                <option value="34">34</option>
                <option value="36">36</option>
                <option value="38">38</option>
                <option value="40">40</option>
              </select>
              <small id="size" class="form-text text-muted">
                <p class="m-0" style="color: red;">
                  **Alphabets are for shirts & t-shirts, numbers are for pants.
                </p>
              </small>
              <br />
              <label for="measurement"
                ><h5 class="font-weight-bold">
                  Measurements(Optional):
                </h5></label
              >
              <textarea
                class="form-control"
                name="measurements"
                id=""
                rows="4"
                placeholder="length, width, etc."
              ></textarea>
              <br />
              <label for="quantity"
                ><h5 class="font-weight-bold">Quantity:</h5></label
              >
              <input
                class="form-control"
                type="number"
                name="quantity"
                id=""
                placeholder="number of product"
                required
              />
            </div>
            <button class="btn btn-dark" type="submit">Add to cart</button>
          </form>
        </div>
      </div>
    </div>
    <!-- Lower Part -->
    <div id="lowerTab" class="my-5">
      <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <a
            class="nav-item nav-link active"
            id="nav-description-tab"
            data-toggle="tab"
            href="#nav-description"
            role="tab"
            aria-controls="nav-description"
            aria-selected="true"
            >Description</a
          >
          <a
            class="nav-item nav-link"
            id="nav-sizeChart-tab"
            data-toggle="tab"
            href="#nav-sizeChart"
            role="tab"
            aria-controls="nav-sizeChart"
            aria-selected="false"
            >Size Chart</a
          >
          <a
            class="nav-item nav-link"
            id="nav-reviews-tab"
            data-toggle="tab"
            href="#nav-reviews"
            role="tab"
            aria-controls="nav-reviews"
            aria-selected="false"
            >Reviews</a
          >
        </div>
      </nav>
      <!-- Description Part -->
      <div class="tab-content" id="nav-tabContent">
        <div
          class="tab-pane fade show active"
          id="nav-description"
          role="tabpanel"
          aria-labelledby="nav-description-tab"
        >
          <div class="mt-3">
            <h3 class="font-weight-bold">Description:</h3>
            <p><%= description %></p>
          </div>
        </div>
        <!-- Size Chart Part -->
        <div
          class="tab-pane fade"
          id="nav-sizeChart"
          role="tabpanel"
          aria-labelledby="nav-sizeChart-tab"
        >
          <div class="mt-3">
            <h3 class="font-weight-bold">Size Chart:</h3>
          </div>
        </div>
        <!-- Reviews Part -->
        <div
          class="tab-pane fade"
          id="nav-reviews"
          role="tabpanel"
          aria-labelledby="nav-reviews-tab"
        >
          <div class="mt-3">
            <h3 class="font-weight-bold">Review this product:</h3>
            <form action="/review" method="post">
              <div class="form-group">
                <input
                  type="text"
                  name="productName"
                  id=""
                  value="<%= name %>"
                  hidden
                />
                <label for="score">Score:</label>
                <select class="form-control" name="score" id="">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                </select>
                <label class="mt-2" for="comment">Comment:</label>
                <textarea
                  class="form-control"
                  name="comment"
                  id=""
                  rows="4"
                ></textarea>
              </div>
              <div class="text-center">
                <button class="btn btn-dark" type="submit">
                  Submit
                </button>
              </div>
            </form>
          </div>
          <div class="mt-3">
            <h3 class="font-weight-bold">
              Reviews:
            </h3>
            <p style="color: teal;">
              <%= rating %>/5 (<%= numOfReviewer %> Reviewers )
            </p>
            <% reviewer.forEach(function(review) { %>
            <div class="reviewers mb-3">
              <h5>Name: <%= review.userName %></h5>
              <h5>Score: <%= review.score %>/5</h5>
              <h5>Comment: "<%= review.comment %>"</h5>
            </div>
          </div>

          <% }); %>
        </div>
      </div>
    </div>
  </div>
</Section>

<%- include("partials/footer.ejs") %>
